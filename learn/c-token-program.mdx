---
title: c-Token Program
description: Core Concepts of c-Mints, c-Tokens, and compressed token accounts.
---

import CompressibleVsSolanaRent from '/snippets/compressible-vs-solana-rent.mdx';
import { CompressibleRentCalculator } from '/snippets/jsx/compressible-rent-calculator.jsx';
import { RentLifecycleVisualizer } from '/snippets/jsx/rent-lifecycle-visualizer.jsx';
import CompressibleRentExplained from '/snippets/compressible-rent-explained.mdx';
import CompressibleDefaultRentConfig from '/snippets/compressible-default-rent-config.mdx';


The [Compressed Token Program](https://github.com/Lightprotocol/light-protocol/tree/main/programs/compressed-token) extends existing Solana token standards with c-Mints, c-Tokens and compressed tokens.

<table>
  <thead>
    <tr>
      <th style={{width: '15%', textAlign: 'left'}}></th>
      <th style={{width: '22%', textAlign: 'left'}}>Account Type</th>
      <th style={{width: '63%', textAlign: 'left'}}>Key Features</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style={{textAlign: 'left'}}>**[c-Mint](#cmint-accounts)**</td>
      <td style={{textAlign: 'left'}}>Compressed account</td>
      <td style={{textAlign: 'left'}}>
        <ul>
          <li>**Rent-free mint accounts** (similar to SPL mints)</li>
          <li>Custom [Token Metadata](#token-metadata) **extension**</li>
        </ul>
      </td>
    </tr>
    <tr>
      <td style={{textAlign: 'left'}}>**[c-Token](#ctoken-account)**</td>
      <td style={{textAlign: 'left'}}>Solana account</td>
      <td style={{textAlign: 'left'}}>
        <ul>
          <li>**Store tokens** of **c-Mints, SPL mints, or Token 2022 mints**</li>
          <li>**Sponsored rent** exemption via [compressible extension](#compressible)</li>
          <li>Use for **active token accounts** with frequent writes (trading, etc.)</li>
        </ul>
      </td>
    </tr>
    <tr>
      <td style={{textAlign: 'left'}}>**[Compressed Token](#compressed-token-account)**</td>
      <td style={{textAlign: 'left'}}>Compressed account</td>
      <td style={{textAlign: 'left'}}>
        <ul>
          <li>**Compressed account** with `TokenData` field</li>
          <li>**Rent-free** and SPL-compatible</li>
          <li>Use for **storage of inactive tokens** and **token distribution**</li>
          <li>c-Token accounts are automatically compressed/decompressed when active/inactive.</li>
        </ul>
      </td>
    </tr>
  </tbody>
</table>

# c-Mint Accounts

<Note>
* **c-Mints are compressed accounts** and **cannot be decompressed**. 
* SPL mints can not be compressed to c-Mints. 
</Note>

c-Mints **uniquely represent a token on Solana and store its global metadata**, similar to SPL mint accounts with few core differences:
1. c-Mint accounts are **rent-free**.
2. Tokens created from c-Mints are **c-Tokens**.
3. Token metadata (name, symbol, URI) is stored as an extension in the struct.

<Tabs>
  <Tab title="Diagram">
    <Frame>
      <img
        src="/images/token-explainer.png"
        alt="Diagram showing c-Mint compressed account structure with three components: Hash (identifier for c-Mint in purple box), Account (struct containing BaseMint with SPL-compatible fields, c-Mint Data for program state, and optional Extensions for Token Metadata), and BasemintData (containing Supply, Decimals, Mint Authority, and Freeze Authority fields) with Token Metadata extension"
      />
    </Frame>
  </Tab>
  <Tab title="Source Code">
    ```rust
    pub struct CompressedMint {
        // SPL mint layout
        pub base: BaseMint,
        // c-Mint state used by the Compressed Token Program
        pub metadata: CompressedMintMetadata
        // Field for Token Metadata extension
        pub extensions: Option<Vec<ExtensionStruct>>,
    }
    ```
  </Tab>
</Tabs>

<Info>
Find the [source code of c-Mints here](https://github.com/Lightprotocol/light-protocol/blob/main/program-libs/ctoken-types/src/state/mint/compressed_mint.rs).
</Info>

The `metadata` field is used by the Compressed Token Program to store the internal state of a c-Mint.

The `BaseMint` field replicates the field layout and serialization format of [SPL Mint accounts](https://solana.com/docs/tokens#mint-account). The struct is serialized with Borsh to match the on-chain format of SPL tokens and mints.

Here is how c-Mints and SPL mints compare:

<Tabs>
  <Tab title="Basemint vs SPL mint">
    <table>
      <thead>
        <tr>
          <th style={{width: '10%', textAlign: 'left'}}>Field</th>
          <th style={{width: '45%', textAlign: 'center'}}>c-Mint</th>
          <th style={{width: '30%', textAlign: 'center'}}>SPL Mint</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>mint_authority</td>
          <td style={{textAlign: 'center'}}>✓</td>
          <td style={{textAlign: 'center'}}>✓</td>
        </tr>
        <tr>
          <td>supply</td>
          <td style={{textAlign: 'center'}}>✓</td>
          <td style={{textAlign: 'center'}}>✓</td>
        </tr>
        <tr>
          <td>decimals</td>
          <td style={{textAlign: 'center'}}>✓</td>
          <td style={{textAlign: 'center'}}>✓</td>
        </tr>
        <tr>
          <td>is_initialized</td>
          <td style={{textAlign: 'center'}}>✓</td>
          <td style={{textAlign: 'center'}}>✓</td>
        </tr>
        <tr>
          <td>freeze_authority</td>
          <td style={{textAlign: 'center'}}>✓</td>
          <td style={{textAlign: 'center'}}>✓</td>
        </tr>
        <tr>
          <td>c-Mint Data</td>
          <td style={{textAlign: 'center'}}>✓</td>
          <td style={{textAlign: 'center'}}>-</td>
        </tr>
        <tr>
          <td>Extensions</td>
          <td style={{textAlign: 'center'}}>✓</td>
          <td style={{textAlign: 'center'}}>via Token-2022</td>
        </tr>
      </tbody>
    </table>
  </Tab>
  <Tab title="BaseMint Struct">
    ```rust
    pub struct BaseMint {
        /// Optional authority used to mint new tokens. The mint authority may only
        /// be provided during mint creation. If no mint authority is present
        /// then the mint has a fixed supply and no further tokens may be
        /// minted.
        pub mint_authority: Option<Pubkey>,
        /// Total supply of tokens.
        pub supply: u64,
        /// Number of base 10 digits to the right of the decimal place.
        pub decimals: u8,
        /// Is initialized - for SPL compatibility
        pub is_initialized: bool,
        /// Optional authority to freeze token accounts.
        pub freeze_authority: Option<Pubkey>,
    }
    ```
  </Tab>
</Tabs>

# c-Token Account

<Note>
**c-Token accounts are Solana accounts**, not compressed accounts.
</Note>

A c-Token account holds token balances like SPL Token accounts:
* A wallet needs a c-Token account for each c-Mint, SPL mint, or Token 2022 mint it wants to hold, with the wallet address set as the c-Token account owner.
* Each wallet can own multiple c-Token accounts for the same c-Mint.
* A c-Token account can only have one owner and hold units of one c-Mint.

<Tabs>
  <Tab title="Diagram">
    <Frame>
      <img
        src="/images/ctoken-explainer.png"
        alt="Diagram showing c-Token Solana account structure with three components: Address (identifier for c-Token account in purple box), Account (struct containing Data bytes, Executable flag, Lamports balance, and Owner set to Compressed Token Program), and AccountData (containing Mint, Owner, Amount, and Extensions fields)"
      />
    </Frame>
  </Tab>
  <Tab title="Source Code">
    ```rust
    /// Ctoken account structure (with extensions).
    pub struct CToken {
        pub mint: Pubkey,
        pub owner: Pubkey,
        pub amount: u64,
        pub delegate: Option<Pubkey>, // instruction not implemented yet
        pub state: u8,
        pub is_native: Option<u64>,
        pub delegated_amount: u64, // instruction not implemented yet
        pub close_authority: Option<Pubkey>,
        pub extensions: Option<Vec<ExtensionStruct>>, // Optional extensions e.g. compressible
    }
    ```
  </Tab>
</Tabs>

<Info>
Find the [source code of c-Token here](https://github.com/Lightprotocol/light-protocol/blob/main/program-libs/ctoken-types/src/state/ctoken/ctoken_struct.rs).
</Info>

c-Token accounts replicate the field layout and serialization format of [SPL Token accounts](https://solana.com/docs/tokens#token-account). The struct is serialized with Borsh to match the on-chain format of SPL tokens.

Here is how c-Tokens and SPL tokens compare:
<table>
  <thead>
    <tr>
      <th style={{width: '10%', textAlign: 'left'}}>Field</th>
      <th style={{width: '45%', textAlign: 'center'}}>c-Token</th>
      <th style={{width: '30%', textAlign: 'center'}}>SPL Token Account</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>mint</td>
      <td style={{textAlign: 'center'}}>✓</td>
      <td style={{textAlign: 'center'}}>✓</td>
    </tr>
    <tr>
      <td>owner</td>
      <td style={{textAlign: 'center'}}>✓</td>
      <td style={{textAlign: 'center'}}>✓</td>
    </tr>
    <tr>
      <td>amount</td>
      <td style={{textAlign: 'center'}}>✓</td>
      <td style={{textAlign: 'center'}}>✓</td>
    </tr>
    <tr>
      <td>delegate</td>
      <td style={{textAlign: 'center'}}>unimplemented</td>
      <td style={{textAlign: 'center'}}>✓</td>
    </tr>
    <tr>
      <td>state</td>
      <td style={{textAlign: 'center'}}>✓</td>
      <td style={{textAlign: 'center'}}>✓</td>
    </tr>
    <tr>
      <td>is_native</td>
      <td style={{textAlign: 'center'}}>✓</td>
      <td style={{textAlign: 'center'}}>✓</td>
    </tr>
    <tr>
      <td>delegated_amount</td>
      <td style={{textAlign: 'center'}}>unimplemented</td>
      <td style={{textAlign: 'center'}}>✓</td>
    </tr>
    <tr>
      <td>close_authority</td>
      <td style={{textAlign: 'center'}}>✓</td>
      <td style={{textAlign: 'center'}}>✓</td>
    </tr>
    <tr>
      <td>extensions</td>
      <td style={{textAlign: 'center'}}>✓</td>
      <td style={{textAlign: 'center'}}>via Token-2022</td>
    </tr>
  </tbody>
</table>

### Rent Config for c-Tokens

<CompressibleRentExplained />
<RentLifecycleVisualizer />

We recommend to use default values, but you can customize prepaid rent and top ups:
<CompressibleRentCalculator />


# Associated c-Token Account

**Associated c-Token** accounts (c-ATAs) follow the same pattern as [associated token accounts](https://docs.solana.com/developing/programming-model/associated-token-account) (ATA):
* Each wallet needs its own c-Token account to hold tokens from the same c-Mint.
* The address for c-ATAs is deterministically derived with the owner’s address, c-Token program ID, and mint address.

```rust
let seeds = [
    owner.as_ref(),          // Wallet address (32 bytes)
    program_id.as_ref(),     // Compressed Token Program ID (32 bytes)
    mint.as_ref(),           // c-Mint address (32 bytes)
    bump.as_ref(),           // Bump seed (1 byte)
];
```

<Info>
Find the [source code to associated c-Token accounts here](https://github.com/Lightprotocol/light-protocol/blob/main/programs/compressed-token/program/src/create_associated_token_account.rs).
</Info>

# Compressed Token Account

Compressed token accounts store token balance, owner, and other information like SPL and c-Tokens. Any c-Token or SPL token can be compressed/decompressed at will.

We recommend to use compressed tokens for **token distribution** or **storage of inactive tokens**.

<Tip>
**c-Token accounts** with the **compressible extension are automatically compressed** with no writes in 27,000 slots (3h) and decompressed with new writes.
</Tip>

<Tabs>
  <Tab title="Diagram">
    <Frame>
      <img
        src="/images/compressed-token-explainer.png"
        alt="Diagram showing compressed token account structure with three components: Hash (identifier for compressed token account in purple box), Account (struct containing Data bytes, Executable flag, Lamports balance, and Address set to None), and AccountData (containing Mint, Owner, Amount, and Extensions fields marked as unimplemented)"
      />
    </Frame>
  </Tab>
  <Tab title="Source Code">
    ```rust
    pub struct TokenData {
        pub mint: Pubkey,
        pub owner: Pubkey,
        pub amount: u64,
        pub delegate: Option<Pubkey>,
        pub state: u8,
        /// Placeholder for TokenExtension tlv data (unimplemented)
        pub tlv: Option<Vec<u8>>,
    }
    ```
  </Tab>
</Tabs>

# Next Steps

<Card
  title="Create c-Token Accounts"
  icon="chevron-right"
  color="#0066ff"
  href="/c-token-program/ctoken/create-ctoken"
  horizontal
>
</Card>