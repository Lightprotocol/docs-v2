---
title: Create a Mint Account with Token Pool for Compression
description: "Create an SPL token mint account with token pool for compression with createMint(), troubleshooting and advanced configurations."
---

import InstallDependencies from '/snippets/install-dependencies-codegroup.mdx';
import SetupEnvironment from '/snippets/setup-environment-tabs.mdx';

<Info>
The mint account itself requires rent (like regular SPL mints), but individual compressed token accounts are rent-free.
</Info>

Compressed tokens use an SPL mint with token pool for compression. The token pool locks SPL tokens while compressed and releases them when decompressed.

Create a token pool for an existing SPL mint with [`createTokenPool()`](/compressed-tokens/guides/how-to-create-compressed-token-pools-for-mint-accounts) or use `createMint()` to create a new one from scratch.

<CodeGroup>
```typescript createMint()
// Create SPL mint with token pool for compression
const { mint, transactionSignature } = await createMint(
    rpc,
    payer,
    mintAuthority.publicKey,
    decimals,
);
```
</CodeGroup>

<Tip>
**Best Practice:** Each mint supports a maximum of 4 token pools total. During compression/decompression, token pools get write-locked. Use `addTokenPools()` to create additional pools that increase per-block write-lock capacity.
</Tip>

# Full Code Example

<Steps>
<Step>
### Prerequisites

Make sure you have dependencies and developer environment set up!

<Accordion title="Prerequisites & Setup">

**Dependencies**

<InstallDependencies />

**Developer Environment**

<SetupEnvironment />
</Accordion>
</Step>

<Step>
### Create SPL Mint with Token Pool for Compression

Run this script to create a mint account with token pool for compression.

```typescript create-mint.ts highlight={15-21} expandable
// 1. Setup funded payer and connect to local validator
// 2. Create SPL mint with token pool for compression via createMint()

import { Keypair } from '@solana/web3.js';
import { createRpc } from '@lightprotocol/stateless.js';
import { createMint } from '@lightprotocol/compressed-token';

async function createCompressedMint() {
    // Step 1: Setup funded payer and connect to local validator
    const rpc = createRpc(); // defaults to localhost:8899
    const payer = Keypair.generate();
        const airdropSignature = await rpc.requestAirdrop(payer.publicKey, 1000000000); // 1 SOL
    await rpc.confirmTransaction(airdropSignature);

    // Step 2: Call createMint() to create mint account and token pool for compression
    const { mint, transactionSignature } = await createMint(
        rpc,
        payer,
        payer.publicKey, // mint authority
        9
    );
    console.log("SPL mint with token pool for compression created");
    console.log("Mint address:", mint.toBase58());
    console.log("Transaction:", transactionSignature);


    return { mint, transactionSignature };
}

createCompressedMint().catch(console.error);
```
</Step>
</Steps>

# Advanced Configuration

<AccordionGroup>
<Accordion title="Customize Mint Authority">

Customize who can mint new compressed tokens.

```typescript
const mintAuthority = Keypair.generate();

const { mint, transactionSignature } = await createMint(
    rpc,
    payer,
    mintAuthority.publicKey,
    9,
);
```

</Accordion>

<Accordion title="Add Freeze Authority">

Customize who can freeze/thaw compressed token accounts.

```typescript
const freezeAuthority = Keypair.generate();

const { mint, transactionSignature } = await createMint(
    rpc,
    payer,
    payer.publicKey, // mint authority
    9, // decimals
    Keypair.generate(), // mint keypair
    undefined, // confirm options
    undefined, // token program ID
    freezeAuthority.publicKey, // freeze authority
);
```

</Accordion>
</AccordionGroup>

# Next Steps

<Card
  title="Learn how to create additional compressed token pools for your SPL mint to increase write-lock limits."
  icon="chevron-right"
  color="#0066ff"
  href="/compressed-tokens/guides/how-to-create-compressed-token-pools-for-mint-accounts"
  horizontal
/>
