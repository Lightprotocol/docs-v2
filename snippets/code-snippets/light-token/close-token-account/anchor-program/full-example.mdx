<CodeGroup>
```rust lib.rs
#![allow(unexpected_cfgs, deprecated)]

use anchor_lang::prelude::*;
use light_token::instruction::CloseAccountCpi;

declare_id!("GXLCuNhnkRVp596eCdbNsZ9ua1ePbKbb344VKS7V3zQQ");

#[program]
pub mod light_token_anchor_close {
    use super::*;

    pub fn close_account(ctx: Context<CloseAccountAccounts>) -> Result<()> {
        CloseAccountCpi {
            token_program: ctx.accounts.light_token_program.to_account_info(),
            account: ctx.accounts.account.to_account_info(),
            destination: ctx.accounts.destination.to_account_info(),
            owner: ctx.accounts.owner.to_account_info(),
            rent_sponsor: ctx.accounts.rent_sponsor.to_account_info(),
        }
        .invoke()?;
        Ok(())
    }
}

#[derive(Accounts)]
pub struct CloseAccountAccounts<'info> {
    /// CHECK: Light token program for CPI
    pub light_token_program: AccountInfo<'info>,
    /// CHECK: Validated by light-token CPI
    #[account(mut)]
    pub account: AccountInfo<'info>,
    /// CHECK: Validated by light-token CPI
    #[account(mut)]
    pub destination: AccountInfo<'info>,
    pub owner: Signer<'info>,
    /// CHECK: Validated by light-token CPI
    #[account(mut)]
    pub rent_sponsor: AccountInfo<'info>,
}
```

```rust test.rs
use anchor_lang::{InstructionData, ToAccountMetas};
use light_program_test::Rpc;
use light_token::instruction::{rent_sponsor_pda, LIGHT_TOKEN_PROGRAM_ID};
use light_token_anchor_close::{accounts, instruction::CloseAccount, ID};
use solana_sdk::{instruction::Instruction, signer::Signer};
use test_utils::setup_test_env;

#[tokio::test]
async fn test_close() {
    let mut env = setup_test_env("light_token_anchor_close", ID).await;

    // ATA must be empty to close (no mint_tokens call).

    // Call the anchor program to close account
    let rent_sponsor = rent_sponsor_pda();

    let ix = Instruction {
        program_id: ID,
        accounts: accounts::CloseAccountAccounts {
            light_token_program: LIGHT_TOKEN_PROGRAM_ID,
            account: env.ata,
            destination: env.payer.pubkey(),
            owner: env.payer.pubkey(),
            rent_sponsor,
        }
        .to_account_metas(Some(true)),
        data: CloseAccount {}.data(),
    };

    let sig = env
        .rpc
        .create_and_send_transaction(&[ix], &env.payer.pubkey(), &[&env.payer])
        .await
        .unwrap();

    println!("Tx: {}", sig);
}
```
</CodeGroup>
