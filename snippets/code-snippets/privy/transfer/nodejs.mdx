```typescript
import 'dotenv/config';
import {PrivyClient} from '@privy-io/node';
import {createRpc} from '@lightprotocol/stateless.js';
import {PublicKey, Transaction} from '@solana/web3.js';
import {
  createTransferInterfaceInstructions,
} from '@lightprotocol/compressed-token/unified';

const transferLightTokens = async (
  fromAddress: string,
  toAddress: string,
  tokenMintAddress: string,
  amount: number,
  decimals: number = 9,
) => {
  const connection = createRpc(process.env.HELIUS_RPC_URL!);

  const privy = new PrivyClient({
    appId: process.env.PRIVY_APP_ID!,
    appSecret: process.env.PRIVY_APP_SECRET!,
  });

  const fromPubkey = new PublicKey(fromAddress);
  const toPubkey = new PublicKey(toAddress);
  const mintPubkey = new PublicKey(tokenMintAddress);
  const tokenAmount = Math.floor(amount * Math.pow(10, decimals));

  // Loads cold (compressed), SPL, and Token 2022 balances into the Light Token associated token account before transfer.
  // Returns TransactionInstruction[][] â€” send [0..n-2] in parallel, then [n-1] last.
  const instructions = await createTransferInterfaceInstructions(
    connection, fromPubkey, mintPubkey, tokenAmount, fromPubkey, toPubkey,
  );

  // Sign and send each batch via Privy
  const walletId = process.env.TREASURY_WALLET_ID!;
  const authorizationKey = process.env.TREASURY_AUTHORIZATION_KEY!;
  const signatures: string[] = [];

  for (const ixs of instructions) {
    const tx = new Transaction().add(...ixs);
    const {blockhash} = await connection.getLatestBlockhash();
    tx.recentBlockhash = blockhash;
    tx.feePayer = fromPubkey;

    const {signed_transaction} = await privy.wallets().solana().signTransaction(
      walletId, {
        transaction: tx.serialize({requireAllSignatures: false}),
        authorization_context: {authorization_private_keys: [authorizationKey]},
      },
    ) as any;

    const sig = await connection.sendRawTransaction(
      Buffer.from(signed_transaction, 'base64'),
      {skipPreflight: false, preflightCommitment: 'confirmed'},
    );
    await connection.confirmTransaction(sig, 'confirmed');
    signatures.push(sig);
  }

  return signatures[signatures.length - 1];
};

export default transferLightTokens;

```
