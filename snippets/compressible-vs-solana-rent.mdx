### Initial Rent Top-Up
The **creator of compressible accounts** tops-up the account with **rent for at least two epochs**.
Two epochs for compressible accounts have a length of **12,600 slots**.

``` rust
rent_per_epoch = base_rent + (data_len * lamports_per_byte_per_epoch)

// For 260-byte cToken account:
// 128 + (260 * 1) = 388 lamports per epoch
```

<table>
  <thead>
    <tr>
      <th style={{width: '25%', textAlign: 'left'}}>Component</th>
      <th style={{width: '25%', textAlign: 'left'}}>Amount</th>
      <th style={{width: '50%', textAlign: 'left'}}>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Prepaid rent</td>
      <td>388 × N epochs*</td>
      <td>Rent for N epochs</td>
    </tr>
    <tr>
      <td></td>
      <td></td>
      <td></td>
      <td></td>
    </tr>
    <tr>
      <td>Compression cost & incentive</td>
      <td>10,000 lamports <br /> + 1,000 lamports</td>
      <td>Transaction cost for compression<br />+ protocol incentive</td>
    </tr>
    <tr>
      <td>Transaction fee</td>
      <td>5,000-10,000 lamports</td>
      <td>Standard Solana tx fees</td>
    </tr>
  </tbody>
</table>

\* _`N` = `num_prepaid_epochs` parameter (0 or ≥ 2, set at creation)._

Normally, the **creator of Solana accounts** pays the **rent exemption balance equal to 2 years of rent** proportional to account size:

``` rust
minimum_balance = (ACCOUNT_STORAGE_OVERHEAD + data_len) * lamports_per_byte * exemption_threshold

/// Example 165 byte SPL token account:
/// minimum_balance = (128 + 165) * 6960 = 2,039,280 lamports
```
<Note>
* Most Solana accounts are rarely accessed after creation, but continue to lock up SOL for the account's lifetime.
* The creator of Solana accounts still must pay the rent-exemption balance.
* The creator of compressible accounts only needs to pay the rent for the first two epochs.
</Note>


### Top-ups per Transaction

The **transaction payer tops-up** the account with rent **when the account's lamports balance is below 2 epochs**. This keeps accounts decompressed while active.

<table>
  <thead>
    <tr>
      <th style={{width: '30%', textAlign: 'left'}}>Account State</th>
      <th style={{width: '25%', textAlign: 'left'}}>Payer Cost</th>
      <th style={{width: '45%', textAlign: 'left'}}>Example</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Funded for 2+ epochs</td>
      <td>0 lamports</td>
      <td>No top-up required</td>
    </tr>
    <tr>
      <td>Funded for less than 2 epochs</td>
      <td>`lamports_per_write`</td>
      <td>Configured as 5,000 lamports <br />→ payer pays 5,000 lamports</td>
    </tr>
    <tr>
      <td>Compressible<br />(ran out of rent)</td>
      <td>`lamports_per_write + rent_deficit`</td>
      <td>Configured top-up: 5,000 lamports<br />Rent deficit: 3,000 lamports<br />Total payer cost: 8,000 lamports</td>
    </tr>
  </tbody>
</table>

<Note>
Top-ups are additional to standard Solana transaction fees (typically &lt;10,000 lamports).
</Note>

### Closing compressible accounts

Compressible accounts can be closed by two parties. How rent and lamports balance are distributed depends on which party closes the account.

1. The **Account Owner** can close the account at any time, regardless of rent status. The account is not compressed in this case.

<table>
  <thead>
    <tr>
      <th style={{width: '35%', textAlign: 'left'}}>Component and Amount</th>
      <th style={{width: '35%', textAlign: 'left'}}>Recipient</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Rent exemption + completed epoch rent</td>
      <td>Rent sponsor</td>
    </tr>
    <tr>
      <td>Remaining lamports from top-up (partial epoch)</td>
      <td>Account Owner</td>
    </tr>
  </tbody>
</table>

2. The **Compression Authority** can compress and close the account when it becomes compressible

<table>
  <thead>
    <tr>
      <th style={{width: '35%', textAlign: 'left'}}>Component and Amount</th>
      <th style={{width: '35%', textAlign: 'left'}}>Recipient</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Rent exemption + remaining epoch rent<br /></td>
      <td>Rent sponsor</td>
    </tr>
    <tr>
      <td>Compression incentive<br />(11,000 lamports)</td>
      <td>Forester node</td>
    </tr>
  </tbody>
</table>

