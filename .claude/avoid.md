# Writing Patterns to Avoid

Reference this doc to ensure clear, direct technical writing with proper information flow.

| Don't | Do |
|-------|-----|
| **Set the initial lamports balance** to N epochs (must be at least 2 epochs)<br/>• The account stays decompressed for at least these N epochs.<br/>• The amount can be customized based on the expected activity of the account.<br/>• The initial lamports balance is paid by the account creator. | **Set the initial lamports balance** to N epochs (must be at least 2 epochs)<br/>• Paid by the account creator.<br/>• Keeps the account decompressed for N epochs.<br/>• Customize N based on expected account activity. |
| **Address derivation:**<br/>You only need to derive an address when you create a compressed account.<br/><br/>*Issue: Implies derivation is creation-only* | **Address derivation:**<br/>You derive addresses in two scenarios:<br/>• **At account creation** - derive the address to create the account's persistent identifier, then pass it to `getValidityProofV0()` in the address array<br/>• **Before building instructions** - derive the address to fetch existing accounts using `rpc.getCompressedAccount()`, then reference them in your transaction<br/><br/>*Shows complete flow for both use cases* |
| **Pre Accounts:**<br/>Pre accounts are added at the beginning of `PackedAccounts` and the length of pre accounts varies based on the number of accounts added.<br/><br/>The on-chain program uses offsets to locate accounts it needs to access in the instruction's accounts array.<br/><br/>`PackedAccounts` calculates positions of the account:<br/>• `system_accounts_start_offset` = length of pre accounts<br/>• `packed_accounts_start_offset` = length of pre accounts + system accounts<br/><br/>*Issues: Vague "uses offsets", doesn't specify what pre accounts are, missing where/how offsets are passed* | **Pre Accounts:**<br/>Pre accounts are your program-specific accounts (signers, PDAs for CPIs) added to the beginning of `PackedAccounts` at known positions.<br/><br/>Since the number of pre accounts varies per instruction, the on-chain program receives offsets in the instruction data to locate Light System accounts and tree accounts:<br/>• `system_accounts_start_offset` (u8) - where Light System accounts begin in `remaining_accounts`<br/>• `packed_accounts_start_offset` (u8) - where tree accounts begin in `remaining_accounts`<br/><br/>`PackedAccounts.to_account_metas()` calculates these offsets on the client-side and passes them to the program.<br/><br/>*Specifies what pre accounts are, where offsets are received (instruction data), exact function name, what the offsets locate* |
